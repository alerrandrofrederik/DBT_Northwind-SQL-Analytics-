version: 2  # Versão do esquema de metadados

models:
  - name: stg_customers  # Nome do modelo
    description: "View de clientes em stg"  # Descrição do modelo
    tags: ['untagged']  # Etiquetas para categorizar o modelo
    meta:  # Metadados adicionais
      owner: postgres  # Proprietário do modelo
      type: view  # Tipo do modelo (tabela ou view)
      package: northwind  # Pacote ao qual o modelo pertence
      qualquer_coisa: teste  # Pacote ao qual o modelo pertence
      language: sql  # Linguagem usada para definir o modelo
      relation: postgres.public.raw_customers  # Relação específica no banco de dados
      access: protected  # Nível de acesso ao modelo
      version: '1.0'  # Versão do modelo
      contract: Enforced  # Especifica que o contrato de schema é aplicado
    columns:
      - name: customer_id  # Nome da coluna
        description: "ID único do cliente"  # Descrição da coluna
        type: integer  # Tipo de dado esperado para a coluna
        tests:
          - not_null  # Teste para garantir que a coluna não tenha valores nulos
          - unique  # Teste para garantir que os valores na coluna sejam únicos
      - name: company_name  # Nome da coluna
        description: "Nome da empresa"  # Descrição da coluna
        data_type: varchar  # Tipo de dado esperado para a coluna
        tests:
          - not_null  # Teste para garantir que a coluna não tenha valores nulos